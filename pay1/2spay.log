nohup: ignoring input
2025/01/18 17:34:51 Starting server on :13888
2025/01/18 17:39:27 Callback Summary: 支付成功
2025/01/18 17:39:27 Transaction Data: &map[amount:map[currency:CNY payer_currency:CNY payer_total:1500 total:1500] appid:wx2399a59856058e2f attach:附加数据 bank_type:CCB_DEBIT mchid:1663775705 out_trade_no:202501181739193fb86c payer:map[openid:obxqX62aegECbndLjaanRRTfCNrU] success_time:2025-01-18T17:39:27+08:00 trade_state:SUCCESS trade_state_desc:支付成功 trade_type:JSAPI transaction_id:4200002555202501184630582081]
2025/01/18 17:39:27 Callback Response Sent: <xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2025/01/18 17:39:27 Response to frontend: {"return_code":"SUCCESS","return_msg":"OK","transaction_id":"4200002555202501184630582081"}
2025/01/18 20:02:00 Failed to parse callback request: invalid notification, err: validate verify fail serial=[6F5B076DEF39299E5E5EE098954CF10577CF7990] request-id=[] err=verify signature with public key err:crypto/rsa: verification error, request: &{Method:POST URL:/callback Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[*/*] Cache-Control:[no-cache] Connection:[upgrade] Content-Length:[935] Content-Type:[application/json] Pragma:[no-cache] User-Agent:[Mozilla/4.0] Wechatpay-Nonce:[HJnbxq2G3FLp] Wechatpay-Serial:[6F5B076DEF39299E5E5EE098954CF10577CF7990] Wechatpay-Signature:[WECHATPAY/SIGNTEST/2JxpqrSnopBeE/3L/JxEQK+Uvh3QMVR/+to8JIWywMR83gv5pDJWZIUS+USRch7Qm9EK0Jz4pemiXbRH/N2/gcyL812gQA0bdLzv+pRyMFFHdjfPBXJdtiSxl3EL5M8gql+ZkOrK8qh1/mix3wBuosuSo69RvSYSupBAvi74YBtyqpP7mamFMxXnZpnw1AdZmcbnrXzWNFzoKSsOQT0s6f8XOF4VtuFvZb1FHIKdrGllGQNrAHlOqaUSY/qoevtTUlJ7GdS9PqIooM8rfYUZWKdftLdFCK8+Fy2ynA1aR1+nqMDms3mGIInx6b1y3UALgAg==] Wechatpay-Signature-Type:[WECHATPAY2-SHA256-RSA2048] Wechatpay-Timestamp:[1737201720] X-Forwarded-For:[101.226.103.15] X-Forwarded-Proto:[https] X-Real-Ip:[101.226.103.15]] Body:{Reader:{"id":"18b94499-cf08-5010-b070-3863c5de0500","create_time":"2025-01-18T15:09:40+08:00","resource_type":"encrypt-resource","event_type":"TRANSACTION.SUCCESS","summary":"支付成功","resource":{"original_type":"transaction","algorithm":"AEAD_AES_256_GCM","ciphertext":"jASgMyVYSH3nBNhpD52rBgMua7EgeeIN7U+UybUP9BHe5GWYSI8fkbBjNuK4j36JwNE/pZyZLhHpGyrbzPCFrhQVqJsL+ZVag5m1yKMbKOhM+g3wTiBfNQVy4xHP5qaLORdZMZbZv/HHT9ZzRdPR4RLJAegOHupF9q6q9NWOyvioXnuvPpnDI1UYT6i4fiK1PS6gUIptIGUxYW2Gm9gvE81yfF/hSRuhj0W0JiijDOKhDDTDTUCBubzQXphkfWMANh6GBOPTIPXKiI6YdusUb9Me1mhZgnpN+iXmbUrZwlHkmqjIvK36yRqZNjQH3ZgvpSFSf1x0oDBCoWq+hoIv17vHN3AOj3BvCrldl7VcH9Ys4lXz2b5Mhgfnae+U2OG4Ws9A2QPH8uyuUmJENFknovoSXf485Ov9mGVlaR1v2hCfAv61tJ03Kj7blYYqV4w63van3cciBzLO+h5yBLQfYXrOikW58xOp0HlrvWzV6EJz9BdhZjtUcRGAUBtlzLXoVHEjz+8GC0D1Po/EZ97sbGKo52UtOZJU0MAPKRmRK6ZMsBKxNmWm2goduhaMwoV0EymSURrOwDc4TqM2FvF/xvQ7fW/3yUPk","associated_data":"transaction","nonce":"Fa4OknyGYfjq"}}} GetBody:<nil> ContentLength:935 TransferEncoding:[] Close:false Host:2s.2nicep.com Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr:127.0.0.1:42076 RequestURI:/callback TLS:0xc0000aa000 Cancel:<nil> Response:<nil> Pattern:/callback ctx:0xc0000a41e0 pat:0xc0001c4f00 matches:[] otherValues:map[]}
2025/01/22 09:23:17 Failed to decode request body: json: cannot unmarshal number into Go value of type struct { Appid string "json:\"appid\""; Mchid string "json:\"mchid\""; Description string "json:\"description\""; OutTradeNo string "json:\"outTradeNo\""; Attach string "json:\"attach\""; Total int64 "json:\"total\""; Openid string "json:\"openid\"" }
signal: terminated
