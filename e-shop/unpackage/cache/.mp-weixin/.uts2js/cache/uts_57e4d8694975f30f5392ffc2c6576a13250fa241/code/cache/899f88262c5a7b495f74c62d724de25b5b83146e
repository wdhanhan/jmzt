{"code":"import { defineComponent } from \"vue\";\nimport AttrPopup from './components/AttrPopup/AttrPopup';\nexport default defineComponent({\n    components: {\n        AttrPopup\n    },\n    data() {\n        return {\n            statusBarHeight: 0,\n            screenWidth: 0,\n            bannerCurrent: 0,\n            scrollTop: 0,\n            pageScrollTop: 0,\n            headCut: 0,\n            goodsId: 0,\n            info: new UTSJSONObject({ images: [], skus: [] }),\n        };\n    },\n    computed: {\n        // æ˜¾ç¤ºä»·æ ¼ï¼šä¼˜å…ˆç”¨ç¬¬ä¸€ä¸ª SKU çš„ä»·æ ¼ï¼Œæ²¡æœ‰å°±ç”¨å•†å“ price\n        displayPrice() {\n            if (this.info.skus && this.info.skus.length > 0) {\n                return this.info.skus[0].price;\n            }\n            return this.info.price || 0;\n        }\n    },\n    onLoad(options) {\n        const w = uni.getWindowInfo();\n        this.statusBarHeight = w.statusBarHeight;\n        this.screenWidth = w.screenWidth;\n        this.goodsId = Number(options.goodsId || 0);\n        this.getData();\n    },\n    methods: {\n        onBack() {\n            uni.navigateBack();\n        },\n        // â­ æ‹¨æ‰“å®¢æœç”µè¯\n        onCallService() {\n            uni.makePhoneCall({\n                phoneNumber: '0939-5959039',\n                fail: (err) => {\n                    uni.__f__('error', 'at pages/GoodsDetail/GoodsDetail.uvue:228', 'æ‹¨æ‰“ç”µè¯å¤±è´¥ï¼š', err);\n                    uni.showToast({\n                        title: 'æ— æ³•å‘èµ·ç”µè¯',\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n        // æ‹‰å–åŽç«¯å•†å“è¯¦æƒ…ï¼ˆä½ è‡ªå·±çš„ Node æŽ¥å£ï¼‰\n        getData() {\n            uni.request({\n                url: `https://wdxwhdglzx.jzzw-tech.cn/api/products/${this.goodsId}`,\n                method: \"GET\",\n                success: (res) => {\n                    const data = res.data.data || {};\n                    this.info = Object.assign(Object.assign({}, data), { images: data.images || [] });\n                }\n            });\n        },\n        onPageScroll(e = null) {\n            const top = e.detail.scrollTop;\n            this.pageScrollTop = Math.min(top / 100, 1);\n            if (top <= 50)\n                this.headCut = 0;\n        },\n        onScrollView(type = null) {\n            this.headCut = type;\n            if (type === 0)\n                this.scrollTop = 0;\n            // å…¶ä»– tab çš„æ»šåŠ¨ä½ åŽé¢è¦çš„è¯å†åŠ  createSelectorQuery\n        },\n        changeBanner(e = null) {\n            this.bannerCurrent = e.detail.current;\n        },\n        /** ðŸ”¥ å¼¹èµ· SKU ç»„ä»¶ */\n        openPopup(type = null) {\n            if (this.$refs.AttrPopup && this.$refs.AttrPopup.$callMethod) {\n                this.$refs.AttrPopup.$callMethod('open', type);\n            }\n            else {\n                uni.__f__('warn', 'at pages/GoodsDetail/GoodsDetail.uvue:273', 'AttrPopup å®žä¾‹ä¸Šæ²¡æœ‰ $callMethodï¼Œæ£€æŸ¥ AttrPopup æ˜¯å¦ä¸º uvue / uts ç»„ä»¶');\n            }\n        },\n        onToShop() {\n            uni.showToast({ title: \"æš‚æœªå®žçŽ°\", icon: \"none\" });\n        }\n    },\n});\n//# sourceMappingURL=C:/Users/%E8%8B%A5%E6%B6%B5/Desktop/%E6%8E%A5%E5%8D%95/e-shop/pages/GoodsDetail/GoodsDetail.uvue?vue&type=script&lang.uts.js.map","references":["C:/Users/è‹¥æ¶µ/Desktop/æŽ¥å•/e-shop/pages/GoodsDetail/components/AttrPopup/AttrPopup.uvue.ts"],"uniExtApis":["uni.getWindowInfo","uni.navigateBack","uni.__f__","uni.showToast","uni.makePhoneCall","uni.request"],"map":"{\"version\":3,\"file\":\"GoodsDetail.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"GoodsDetail.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
