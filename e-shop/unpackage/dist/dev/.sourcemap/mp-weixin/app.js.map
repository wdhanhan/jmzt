{"version":3,"file":"app.js","sources":["App.uvue","main.uts"],"sourcesContent":["<script lang=\"uts\">\n\tlet firstBackTime = 0\n\n\texport default {\n\t\tonLaunch() {\n\t\t\tuni.__f__('log','at App.uvue:6','App Launch')\n\t\t\tthis.wxLogin() // ÂêØÂä®Êó∂Ëá™Âä®Ëé∑Âèñ‰∏ÄÊ¨° openid\n\t\t},\n\n\t\tonShow() {\n\t\t\tuni.__f__('log','at App.uvue:11','App Show')\n\t\t},\n\n\t\tonHide() {\n\t\t\tuni.__f__('log','at App.uvue:15','App Hide')\n\t\t},\n\n\t\t// üëá Âè™Âú® APP Á´ØÊâçÊúâÁöÑÁîüÂëΩÂë®ÊúüÔºåÁî®Êù°‰ª∂ÁºñËØëÂåÖËµ∑Êù•\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\tmethods: {\n\t\t\twxLogin() {\n\t\t\t\t// Â¶ÇÊûúÂ∑≤ÁªèÊúâ openidÔºåÂèØ‰ª•ÈÄâÊã©‰∏çÈáçÂ§çËØ∑Ê±Ç\n\t\t\t\tconst oldOpenid = uni.getStorageSync('openid') as string\n\t\t\t\tif (oldOpenid && oldOpenid.length > 0) {\n\t\t\t\t\tuni.__f__('log','at App.uvue:47','Â∑≤Êúâ openidÔºö', oldOpenid)\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: (loginRes) => {\n\t\t\t\t\t\tuni.__f__('log','at App.uvue:54','uni.login success:', loginRes)\n\n\t\t\t\t\t\tif (!loginRes.code) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'ÂæÆ‰ø°ÁôªÂΩïÂ§±Ë¥•ÔºöÊó† code',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Êää code ÂèëÁªô‰Ω†ÂêéÁ´Ø\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: 'https://jmzt.cxxyonline.cn/api/wechat/openid',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tcode: loginRes.code\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tuni.__f__('log','at App.uvue:75','openid Êé•Âè£ËøîÂõû:', res)\n\n\t\t\t\t\t\t\t\t// ËøôÈáåÁöÑÁªìÊûÑÂØπ‰∏ä‰Ω†ÂêéÁ´ØÁöÑËøîÂõûÔºö\n\t\t\t\t\t\t\t\t// { code: 200, data: { openid, session_key, unionid } }\n\t\t\t\t\t\t\t\tconst body = res.data as UTSJSONObject\n\n\t\t\t\t\t\t\t\tif (body['code'] == 200) {\n\t\t\t\t\t\t\t\t\tconst data = body['data'] as UTSJSONObject\n\t\t\t\t\t\t\t\t\tconst openid = data['openid'] as string\n\n\t\t\t\t\t\t\t\t\tuni.__f__('log','at App.uvue:85','ÊãøÂà∞ openid:', openid)\n\n\t\t\t\t\t\t\t\t\t// Â≠òÊú¨Âú∞ÔºåÂêéÈù¢‰∏ãÂçï„ÄÅ‰∏™‰∫∫‰∏≠ÂøÉÁ≠âÈÉΩÂèØ‰ª•Áõ¥Êé•Áî®\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('openid', openid)\n\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'ÁôªÂΩïÊàêÂäü',\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'Ëé∑Âèñ openid Â§±Ë¥•:' + body['message'],\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tuni.__f__('log','at App.uvue:102','ËØ∑Ê±Ç openid Êé•Âè£Â§±Ë¥•:', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'ÊúçÂä°Âô®ÈîôËØØ',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tuni.__f__('log','at App.uvue:111','uni.login fail:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'ÂæÆ‰ø°ÁôªÂΩïÂ§±Ë¥•',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n/* ÊØè‰∏™È°µÈù¢ÂÖ¨ÂÖ±css */\n.uni-row {\n\tflex-direction: row;\n}\n\n.uni-column {\n\tflex-direction: column;\n}\n</style>\n","import App from './App'\n\nimport { createSSRApp } from 'vue'\nimport page from './components/page/page.uvue'\n\n\nexport function createApp() {\n  const app = createSSRApp(App);\n  // ÂÖ®Â±ÄÈ°µÈù¢ÁªÑ‰ª∂\n  app.component('page', page);\n  return {\n    app\n  }\n}\n"],"names":["defineComponent","uni","createSSRApp","App"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGC,MAAA,YAAeA,8BAAA;AAAA,EACd,WAAQ;AACPC,kBAAAA,MAAI,MAAM,OAAM,iBAAgB,YAAY;AAC5C,SAAK,QAAO;AAAA,EACZ;AAAA,EAED,SAAM;AACLA,kBAAAA,MAAI,MAAM,OAAM,kBAAiB,UAAU;AAAA,EAC3C;AAAA,EAED,SAAM;AACLA,kBAAAA,MAAI,MAAM,OAAM,kBAAiB,UAAU;AAAA,EAC3C;AAAA;AAAA,EA0BD,SAAS;AAAA,IACR,UAAO;AAEN,YAAM,YAAYA,cAAAA,MAAI,eAAe,QAAQ;AAC7C,UAAI,aAAa,UAAU,SAAS,GAAG;AACtCA,sBAAG,MAAC,MAAM,OAAM,kBAAiB,cAAc,SAAS;AACxD,eAAK;AAAA,MACN;AAEAA,0BAAI,MAAM,IAAA,cAAA;AAAA,QACT,UAAU;AAAA,QACV,SAAS,CAAC,aAAQ;AACjBA,wBAAG,MAAC,MAAM,OAAM,kBAAiB,sBAAsB,QAAQ;AAE/D,cAAI,CAAC,SAAS,MAAM;AACnBA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACN,CAAA;AACD,mBAAK;AAAA,UACN;AAGAA,wBAAAA,MAAI,QAAQ;AAAA,YACX,KAAK;AAAA,YACL,QAAQ;AAAA,YACR,QAAQ,IAAA,cAAA;AAAA,cACP,gBAAgB;AAAA,aAChB;AAAA,YACD,MAAM,IAAA,cAAA;AAAA,cACL,MAAM,SAAS;AAAA,aACf;AAAA,YACD,SAAS,CAAC,QAAG;AACZA,4BAAG,MAAC,MAAM,OAAM,kBAAiB,gBAAgB,GAAG;AAIpD,oBAAM,OAAO,IAAI;AAEjB,kBAAI,KAAK,MAAM,KAAK,KAAK;AACxB,sBAAM,OAAO,KAAK,MAAM;AACxB,sBAAM,SAAS,KAAK,QAAQ;AAE5BA,8BAAG,MAAC,MAAM,OAAM,kBAAiB,cAAc,MAAM;AAGrDA,8BAAAA,MAAI,eAAe,UAAU,MAAM;AAEnCA,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAM;AAAA,gBACN,CAAA;AAAA,cACA,OAAK;AACNA,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO,kBAAkB,KAAK,SAAS;AAAA,kBACvC,MAAM;AAAA,gBACN,CAAA;AAAA,cACF;AAAA,YACA;AAAA,YACD,MAAM,CAAC,QAAG;AACTA,4BAAG,MAAC,MAAM,OAAM,mBAAkB,mBAAmB,GAAG;AACxDA,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO;AAAA,gBACP,MAAM;AAAA,cACN,CAAA;AAAA,YACF;AAAA,UACA,CAAA;AAAA,QACD;AAAA,QACD,MAAM,CAAC,QAAG;AACTA,wBAAG,MAAC,MAAM,OAAM,mBAAkB,mBAAmB,GAAG;AACxDA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACN,CAAA;AAAA,QACF;AAAA,MACA,CAAA,CAAA;AAAA,IACF;AAAA,EACD;CACD;ACpHD,MAAM,OAAO,MAAA;AAAI,SAAO;AAAP;SAGD,YAAS;AACvB,QAAM,MAAMC,2BAAaC,SAAG;AAE5B,MAAI,UAAU,QAAQ,IAAI;AAC1B,SAAO;AAAA,IACL;AAAA;AAEJ;AAEA,YAAY,IAAI,MAAM,MAAM;;"}