{"version":3,"file":"SearchGoods.js","sources":["pages/SearchGoods/SearchGoods.uvue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvU2VhcmNoR29vZHMvU2VhcmNoR29vZHMudXZ1ZQ"],"sourcesContent":["<template>\n\n\n\n    <view class=\"head-info\" :style=\"{height: (statusBarHeight+50)+'px',paddingTop: statusBarHeight+'px'}\">\n      <view class=\"search-info\">\n        <view class=\"back\" @click=\"onBack\">\n          <image src=\"/static/images/icon/back_icon.png\" class=\"image\"></image>\n        </view>\n        <view class=\"search\">\n          <image src=\"/static/images/icon/fdj_icon.png\" class=\"image\"></image>\n          <input type=\"text\" placeholder=\"请输入搜索内容\" v-model=\"keyword\" class=\"input\"/>\n        </view>\n        <view class=\"btn\">\n          <text class=\"text\">搜索</text>\n        </view>\n      </view>\n    </view>\n<!--    筛选-->\n    <view class=\"filtrate-info\" :style=\"{top: (statusBarHeight+50)+'px'}\">\n      <view class=\"filtrate-item\">\n        <view class=\"item active\">\n          <view class=\"title\">\n            <text class=\"text\">综合推荐</text>\n          </view>\n          <view class=\"cut\">\n            <image src=\"/static/images/icon/pxx_ac_icon.png\" class=\"image\"></image>\n          </view>\n        </view>\n        <view class=\"item\">\n          <view class=\"title\">\n            <text class=\"text\">销量</text>\n          </view>\n        </view>\n        <view class=\"item\">\n          <view class=\"title\">\n            <text class=\"text\">价格</text>\n          </view>\n          <view class=\"cut\">\n            <image src=\"/static/images/icon/sort_icon.png\" class=\"up\"></image>\n          </view>\n        </view>\n        <view class=\"item\">\n          <view class=\"title\" @click=\"onFiltrate\">\n            <text class=\"text\">筛选</text>\n          </view>\n          <view class=\"icon\" @click=\"onGoodCut\">\n            <image src=\"/static/images/icon/lbt_icon.png\" class=\"image\" v-show=\"goodsCut === 0\"></image>\n            <image src=\"/static/images/icon/stt_icon.png\" class=\"image\" v-show=\"goodsCut === 1\"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n<!--    商品-->\n    <view class=\"goods-info\" :style=\"{backgroundColor: goodsCut === 1 ? '#f8f8f8' : '#ffffff',marginTop: (statusBarHeight+100)+'px'}\">\n      <view class=\"goods-list\" v-show=\"goodsCut === 0\">\n        <view class=\"list\" v-for=\"(item,index) in goodsLists\"\n              @click=\"onGoodsItem(item)\"\n              :key=\"index\">\n          <view class=\"pic\">\n            <image :src=\"item.pic\" class=\"image\"></image>\n          </view>\n          <view class=\"info\">\n            <view class=\"title\">\n              <text class=\"text\">{{item.name}}</text>\n            </view>\n            <view class=\"sales-volume\">\n              <text class=\"text\">{{item.salesVolume}}件售出</text>\n            </view>\n            <view class=\"price-info\">\n              <view class=\"price\">\n                <text class=\"min\">￥</text>\n                <text class=\"max\">{{formatPrice(item.price as number,0)}}</text>\n                <text class=\"min\" v-if=\"formatPrice(item.price as number,1)\">.{{formatPrice(item.price as number,1)}}</text>\n              </view>\n              <view class=\"old-price\">\n                <text class=\"text\">￥{{item.originalPrice}}</text>\n              </view>\n            </view>\n            <view class=\"shop-info\">\n              <view class=\"name\">\n                <text class=\"text\">{{item.shopName}}</text>\n              </view>\n              <view class=\"more\">\n                <text class=\"text\">进店</text>\n                <image src=\"/static/images/icon/more_right.png\" class=\"image\"></image>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"goods-view\" v-show=\"goodsCut === 1\">\n        <view class=\"list\" v-for=\"(item,index) in goodsLists\"\n              @click=\"onGoodsItem(item)\"\n              :key=\"index\">\n          <view class=\"pic\">\n            <image :src=\"item.pic\" class=\"image\"></image>\n          </view>\n          <view class=\"info\">\n            <view class=\"title\">\n              <text class=\"text\">{{item.name}}</text>\n            </view>\n            <view class=\"sales-volume\">\n              <text class=\"text\">{{item.salesVolume}}件售出</text>\n            </view>\n            <view class=\"price-info\">\n              <view class=\"price\">\n                <text class=\"min\">￥</text>\n                <text class=\"max\">{{formatPrice(item.price as number,0)}}</text>\n                <text class=\"min\" v-if=\"formatPrice(item.price as number,1)\">.{{formatPrice(item.price as number,1)}}</text>\n              </view>\n              <view class=\"old-price\">\n                <text class=\"text\">￥{{item.originalPrice}}</text>\n              </view>\n            </view>\n            <view class=\"shop-info\">\n              <view class=\"name\">\n                <text class=\"text\">{{item.shopName}}</text>\n              </view>\n              <view class=\"more\">\n                <text class=\"text\">进店</text>\n                <image src=\"/static/images/icon/more_right.png\" class=\"image\"></image>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n<!--    排序弹窗-->\n    <view class=\"sort-popup\" :style=\"{paddingTop: (statusBarHeight+90)+'px'}\" v-show=\"false\">\n      <view class=\"sort-item\">\n        <view class=\"item active\">\n          <text class=\"text\">综合推荐</text>\n        </view>\n        <view class=\"item\">\n          <text class=\"text\">评价优先</text>\n        </view>\n      </view>\n    </view>\n    <cat-popup ref=\"CatPopup\" mode=\"right\">\n      <view class=\"filtrate-popup\" :style=\"{paddingTop: statusBarHeight,height: screenHeight+'px'}\">\n        <view class=\"filtrate-data\">\n          <view class=\"filtrate-title\">\n            <view class=\"title\">\n              <text class=\"text\">服务</text>\n            </view>\n          </view>\n          <view class=\"serve-item\">\n            <view class=\"item\" :class=\"{'active':serveCut===0}\" @click=\"onFiltrateServe(0)\">\n              <text class=\"text\" :class=\"{'active-text':serveCut===0}\">包邮</text>\n            </view>\n            <view class=\"item\" :class=\"{'active':serveCut===1}\" @click=\"onFiltrateServe(1)\">\n              <text class=\"text\" :class=\"{'active-text':serveCut===1}\">有货</text>\n            </view>\n            <view class=\"item\" :class=\"{'active':serveCut===2}\" @click=\"onFiltrateServe(2)\">\n              <text class=\"text\" :class=\"{'active-text':serveCut===2}\">新品</text>\n            </view>\n          </view>\n        </view>\n        <view class=\"filtrate-data\">\n          <view class=\"filtrate-title\">\n            <view class=\"title\">\n              <text class=\"text\">价格区间</text>\n            </view>\n          </view>\n          <view class=\"price-area\">\n            <input type=\"number\" placeholder=\"最低价\" class=\"price\" />\n            <text class=\"line\">-</text>\n            <input type=\"number\" placeholder=\"最高价\" class=\"price\" />\n          </view>\n        </view>\n        <view class=\"reset-confirm\">\n          <view class=\"rest\">\n            <text class=\"text\">重置</text>\n          </view>\n          <view class=\"confirm\">\n            <text class=\"text\">确认</text>\n          </view>\n        </view>\n      </view>\n    </cat-popup>\n\n\n\n</template>\n\n<script lang=\"uts\">\n\timport type { ComponentPublicInstance } from 'vue'\n  import CatPopup from '../../components/CatPopup/CatPopup.uvue'\n  import {goodsData,goodsItems} from '@/mock/goodsData.uts'\n  export default {\n    components: {\n      CatPopup,\n    },\n\t\tdata() {\n\t\t\treturn {\n        statusBarHeight: 0,\n        screenHeight: 0,\n        goodsCut: 0,  // 商品切换状态 0  列表  1 视图\n        keyword: '',  // 搜索关键词\n        goodsLists: goodsData as Array<goodsItems>,\n        serveCut: 0,\n\t\t\t};\n\t\t},\n    onLoad(options: OnLoadOptions){\n      this.goodsCut = 1;\n      const windowInfo = uni.getWindowInfo();\n      this.statusBarHeight = windowInfo.statusBarHeight;\n      this.screenHeight = windowInfo.screenHeight;\n      this.keyword = options.get('keyword') === null ? '' : options.get('keyword') as string;\n    },\n    methods: {\n      /**\n       * 返回点击\n       */\n      onBack(){\n        uni.navigateBack();\n      },\n      /**\n       * 商品列表切换点击\n       */\n      onGoodCut(){\n        this.goodsCut = this.goodsCut === 1 ? 0 : 1;\n      },\n      /**\n       * 筛选点击\n       */\n      onFiltrate(){\n        (this.$refs['CatPopup'] as ComponentPublicInstance).$callMethod('open')\n      },\n      /**\n       * 筛选服务点击\n       * @param type\n       */\n      onFiltrateServe(type: Number){\n        this.serveCut = type;\n      },\n      /**\n       * 商品点击\n       * @param item\n       */\n      onGoodsItem(item: goodsItems){\n        uni.navigateTo({\n          url: `/pages/GoodsDetail/GoodsDetail?goodsId=${item.id}`\n        })\n      },\n      formatPrice(price: Number,type: Number): string{\n        let strPrice = price.toString();\n        let start:string = strPrice.split('.')[0];\n        let end:string = '';\n        try {\n          end = strPrice.split('.')[1]\n        }catch (e){\n          end = '';\n        }\n\n        return type === 0 ? start : end\n      },\n    },\n\t}\n</script>\n\n<style lang=\"scss\">\n  @import \"SearchGoods.scss\";\n</style>\n","import MiniProgramPage from 'C:/Users/zrh/Desktop/7600/e-shop/pages/SearchGoods/SearchGoods.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","goodsData","uni"],"mappings":";;;;AA4LE,MAAO,WAAc,MAAA;AAErB,MAAA,YAAeA,8BAAA;AAAA,EACb,YAAY;AAAA,IACV;AAAA,EACD;AAAA,EACH,OAAI;AACH,WAAO;AAAA,MACF,iBAAiB;AAAA,MACjB,cAAc;AAAA,MACd,UAAU;AAAA,MACV,SAAS;AAAA,MACT,YAAYC,eAA8B;AAAA,MAC1C,UAAU;AAAA;EAEf;AAAA,EACC,OAAO,SAAsB;AAC3B,SAAK,WAAW;AAChB,UAAM,aAAaC,oBAAI;AACvB,SAAK,kBAAkB,WAAW;AAClC,SAAK,eAAe,WAAW;AAC/B,SAAK,UAAU,QAAQ,IAAI,SAAS,MAAM,OAAO,KAAK,QAAQ,IAAI,SAAS;AAAA,EAC5E;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA,IAIP,SAAM;AACJA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA,IAID,YAAS;AACP,WAAK,WAAW,KAAK,aAAa,IAAI,IAAI;AAAA,IAC3C;AAAA;AAAA;AAAA;AAAA,IAID,aAAU;AACP,WAAK,MAAM,UAAU,EAA8B,YAAY,MAAM;AAAA,IACvE;AAAA;AAAA;AAAA;AAAA;AAAA,IAKD,gBAAgB,MAAY;AAC1B,WAAK,WAAW;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA,IAKD,YAAY,MAAgB;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,0CAA0C,KAAK,EAAE;AAAA,MACvD,CAAA;AAAA,IACF;AAAA,IACD,YAAY,OAAc,MAAY;AACpC,UAAI,WAAW,MAAM;AACrB,UAAI,QAAe,SAAS,MAAM,GAAG,EAAE,CAAC;AACxC,UAAI,MAAa;AACjB,UAAI;AACF,cAAM,SAAS,MAAM,GAAG,EAAE,CAAC;AAAA,MAC5B,SAAO,GAAE;AACR,cAAM;AAAA,MACR;AAEA,aAAO,SAAS,IAAI,QAAQ;AAAA,IAC7B;AAAA,EACF;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClQD,GAAG,WAAW,eAAe;"}