{"version":3,"file":"OrderPage.js","sources":["pages/OrderList/components/OrderPage/OrderPage.uvue","../../../Downloads/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMv6Iul5ra1L0Rlc2t0b3Av5o6l5Y2VL2Utc2hvcC9wYWdlcy9PcmRlckxpc3QvY29tcG9uZW50cy9PcmRlclBhZ2UvT3JkZXJQYWdlLnV2dWU"],"sourcesContent":["<template>\r\n  <list-view ref=\"listView\"\r\n             :id=id\r\n             class=\"list\"\r\n             :rebound=\"false\"\r\n             :scroll-y=\"true\"\r\n             :custom-nested-scroll=\"true\"\r\n             :show-scrollbar=\"false\"\r\n             nested-scroll-child=\"goods-many\"\r\n             @scrolltolower=\"loadData(null)\">\r\n    <list-item class=\"list-item\" v-for=\"(item,index) in dataList\"\r\n               @click=\"onOrder(item)\"\r\n               :key=\"index\">\r\n      <view class=\"item\">\r\n        <view class=\"shop-status\">\r\n          <view class=\"shop\">\r\n            <image src=\"/static/images/icon/shop_icon.png\" class=\"icon\"></image>\r\n            <text class=\"text\">{{item.shopName}}</text>\r\n            <image src=\"/static/images/icon/more_right.png\" class=\"more\"></image>\r\n          </view>\r\n          <view class=\"status\">\r\n            <text class=\"red-status\" v-if=\"item.status === 0\">待付款</text>\r\n            <text class=\"success\" v-else-if=\"item.status === 1\">待发货</text>\r\n            <text class=\"success\" v-else-if=\"item.status === 2\">待收货</text>\r\n            <text class=\"green-status\" v-else-if=\"item.status === 3\">已完成</text>\r\n            <text class=\"text\" v-else-if=\"item.status === 4\">已取消</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"goods-info\">\r\n          <view v-if=\"item.goodsList.length <= 1\">\r\n            <view class=\"goods\" v-for=\"(value,index) in item.goodsList\" :key=\"index\">\r\n              <view class=\"pic\">\r\n                <image :src=\"value.pic\" class=\"image\"></image>\r\n              </view>\r\n              <view class=\"name\">\r\n                <text class=\"text\">{{value.name}}</text>\r\n              </view>\r\n              <view class=\"price-number\">\r\n                <view class=\"price\">\r\n                  <text class=\"min\">￥</text>\r\n                  <text class=\"max\">99</text>\r\n                  <text class=\"min\">.00</text>\r\n                </view>\r\n                <view class=\"number\">\r\n                  <text class=\"text\">共1件</text>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n          <view class=\"goods-many\" v-if=\"item.goodsList.length > 1\">\r\n            <view class=\"goods-pic\">\r\n              <view class=\"pic\" v-for=\"(value,index) in item.goodsList\" :key=\"index\">\r\n                <image :src=\"value.pic\" class=\"image\"></image>\r\n              </view>\r\n            </view>\r\n            <view class=\"price-number\">\r\n              <view class=\"price\">\r\n                <text class=\"min\">￥</text>\r\n                <text class=\"max\">99</text>\r\n                <text class=\"min\">.00</text>\r\n              </view>\r\n              <view class=\"number\">\r\n                <text class=\"text\">共1件</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"order-btn\">\r\n          <view class=\"btn\">\r\n            <text class=\"text\">删除订单</text>\r\n          </view>\r\n          <view class=\"btn\" v-if=\"item.status >= 2 && item.status < 4\">\r\n            <text class=\"text\">查看物流</text>\r\n          </view>\r\n          <view class=\"btn active\" v-if=\"item.status === 2\">\r\n            <text class=\"text\">确认收货</text>\r\n          </view>\r\n          <view class=\"btn active\" v-if=\"item.status === 3\">\r\n            <text class=\"text\">评价</text>\r\n          </view>\r\n          <view class=\"btn active\" v-if=\"item.status === 0\">\r\n            <text class=\"text\">继续付款</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </list-item>\r\n    <list-item>\r\n      <view class=\"loading\">\r\n        <text class=\"loading-text\">{{loadingText}}</text>\r\n      </view>\r\n    </list-item>\r\n  </list-view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\nimport {OrderData,OrderItem} from '@/mock/orderData.uts'\r\nexport default {\r\n  name: \"OrderPage\",\r\n  data(){\r\n    return {\r\n      dataList: OrderData as Array<OrderItem>,\r\n      loading: false,\r\n      isEnded: false,\r\n      loadingError: '',\r\n    }\r\n  },\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    preload: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    id: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  computed: {\r\n    loadingText() : string {\r\n      if (this.loading) {\r\n        return \"加载中...\"\r\n      } else if (this.isEnded) {\r\n        return \"没有更多了\"\r\n      } else if (this.loadingError.length > 0) {\r\n        return this.loadingError\r\n      } else {\r\n        return \"\"\r\n      }\r\n    }\r\n  },\r\n  onLoad(){\r\n    uni.__f__('log','at pages/OrderList/components/OrderPage/OrderPage.uvue:135',this.dataList,'1111111111');\r\n  },\r\n  methods: {\r\n    loadData(loadComplete : (() => void) | null){\r\n      if (this.loading || this.isEnded) {\r\n        return\r\n      }\r\n      this.loading = true\r\n    },\r\n    /**\r\n     * 订单点击\r\n     */\r\n    onOrder(item: OrderItem){\r\n      uni.navigateTo({\r\n        url: `/pages/OrderDetails/OrderDetails?orderId=${item.id}`\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import \"OrderPage.scss\";\r\n</style>\r\n","import Component from 'C:/Users/若涵/Desktop/接单/e-shop/pages/OrderList/components/OrderPage/OrderPage.uvue'\nwx.createComponent(Component)"],"names":["defineComponent","OrderData","uni"],"mappings":";;;;AAgGA,MAAA,YAAeA,8BAAA;AAAA,EACb,MAAM;AAAA,EACN,OAAI;AACF,WAAO;AAAA,MACL,UAAUC,eAA6B;AAAA,MACvC,SAAS;AAAA,MACT,SAAS;AAAA,MACT,cAAc;AAAA;EAEjB;AAAA,EACD,OAAO;AAAA,IACL,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,IAAI;AAAA,MACF,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACR,cAAW;AACT,UAAI,KAAK,SAAS;AAChB,eAAO;AAAA,MACT,WAAW,KAAK,SAAS;AACvB,eAAO;AAAA,MACT,WAAW,KAAK,aAAa,SAAS,GAAG;AACvC,eAAO,KAAK;AAAA,MACZ,OAAK;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAM;AACJC,kBAAG,MAAC,MAAM,OAAM,8DAA6D,KAAK,UAAS,YAAY;AAAA,EACxG;AAAA,EACD,SAAS;AAAA,IACP,SAAS,eAAkC,MAAA;AACzC,UAAI,KAAK,WAAW,KAAK,SAAS;AAChC,eAAK;AAAA,MACP;AACA,WAAK,UAAU;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA,IAID,QAAQ,MAAe;AACrBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,4CAA4C,KAAK,EAAE;AAAA,MACzD,CAAA;AAAA,IACH;AAAA,EACD;CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvJA,GAAG,gBAAgB,SAAS;"}